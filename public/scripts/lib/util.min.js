define(function(){var t={isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isUndefined:function(t){return"[object Undefined]"===Object.prototype.toString.call(t)},makeArray:function(t){return arguments.length>1?Array.prototype.slice.call(arguments):Array.prototype.slice.call(t,0)},slice:function(t){var e=this.makeArray(arguments).slice(1),n=t.slice(e);return n},extend:function(t,e){for(var n in e)t[n]||(t[n]=e[n])},include:function(t,e){for(var n in e)t.prototype[n]||(t.prototype[n]=e[n])},eventify:function(t,e){function n(){t.apply(this,arguments),o.call(this)}function r(){}var o=e;if(t.prototype instanceof o)return console.warn("Class has been eventified"),t;r.prototype=this.createObject(o.prototype),r.prototype.constructor=o;var i=this.createObject(r.prototype),a=t.prototype;for(var c in a)i[c]=a[c];return n.prototype=i,n.prototype.constructor=t,n},createObject:function(t){return Object.create?this.createObject=Object.create:this.createObject=function(t){var e=function(){};return e.prototype=t,e.prototype.constructor=e,new e},this.createObject(t)},$:function(t,e){var n,r=t.trim(),o=e||document;return n="#"===r.charAt(0)&&-1==r.indexOf(" ")&&o.getElementById?o.getElementById(t.slice(1)):o.querySelector(t)},$All:function(t,e){var n=e||document,r=n.querySelectorAll(t);return r},proxy:function(t,e){return t.bind(e)},on:function(t,e,n,r){t.addEventListener(e,n,r||!1)},delegate:function(t,e,n,r,o){var o=o||{};t.addEventListener(n,function(t){for(var n=t.target,i=t.currentTarget;n&&i!==n;)n&&n.tagName===e.toUpperCase()&&(o.fn?o.fn(n):!0)&&r(t,n),n=n.parentElement},o.useCapture||!1)},htmlToDom:function(t,e){var n=document.createDocumentFragment(),r=document.createElement("div");r.innerHTML=t,n.appendChild(r),e.appendChild(n)},template:function(t,e){var n=document.createDocumentFragment();e=e||"div";var r=document.createElement(e);return r.innerHTML=t,n.appendChild(r),n},getCss:function(t,e){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]},getWindow:function(){var t=document.documentElement.clientHeight||document.body.clientHeight,e=document.documentElement.clientWidth||document.body.clientWidth;return{height:t,width:e}},drag:function(t,e,n){function r(){if(i.flag){var e=document.documentElement.clientWidth-t.offsetWidth,n=document.documentElement.clientHeight-t.offsetHeight;t.style.left=Math.min(Math.max(i.x-i.offsetLeft,0),e)+"px",t.style.top=Math.min(Math.max(i.y-i.offsetTop,0),n)+"px"}}var o,i={left:0,top:0,offsetLeft:0,offsetTop:0,currentX:0,currentY:0,flag:!1};"auto"!=this.getCss(t,"left")&&(i.left=this.getCss(t,"left")),"auto"!=this.getCss(t,"top")&&(i.top=this.getCss(t,"top")),this.on(e,"mousedown",function(t){i.flag=!0;var e=t;return i.offsetLeft=e.pageX-this.offsetLeft,i.offsetTop=e.pageY-this.offsetTop,o=setInterval(r,10),!1}.bind(t)),this.on(document,"mouseup",function(){i.flag=!1,clearInterval(o)}.bind(this)),this.on(document,"mousemove",function(t){var e=t?t:window.event;i.flag&&(i.x=e.clientX,i.y=e.clientY,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e=this.originalEvent,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1),document.body.style.MozUserSelect="none"),this.isFunction(n)&&n(parseInt(i.left)+disX,parseInt(i.top)+disY)}.bind(this))},DomforEach:function(t,e,n){var t=this.makeArray(t);t.forEach(function(t){e.apply(this,arguments)},n)},ajax:function(t,e,n,r,o){var i=new XMLHttpRequest;r=r||{},r.success=r.success||function(){},r.fail=r.fail||function(){},r.timeout=r.timeout||function(){},i.onreadystatechange=function(){if(4===i.readyState)try{i.status<300||i.status>=200||304===i.status?r.success(i.response):r.fail(i.statusText)}catch(t){r.timeout()}},i.onerror=function(t){console.error(i.statusText)},i.ontimeout=r.timeout,i.open(t,e,!0),i.timeout=o||1e4,"GET"===t.toUpperCase()?i.send():"POST"===t.toUpperCase()&&(n instanceof FormData?i.send(n):(i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("data="+JSON.stringify(n))))},keys:function(t){return Object.keys(t)},insertHTML:function(t,e,n){if(!t)return!1;try{if(t.insertAdjacentHTML)t.insertAdjacentHTML(e,n);else{var r=t.ownerDocument.createRange(),o=0==e.indexOf("before"),i=-1!=e.indexOf("Begin");if(o==i)r[o?"setStartBefore":"setStartAfter"](t),t.parentNode.insertBefore(r.createContextualFragment(n),i?t:t.nextSibling);else{var a=t[o?"lastChild":"firstChild"];a?(r[o?"setStartAfter":"setStartBefore"](a),t[o?"appendChild":"insertBefore"](r.createContextualFragment(n),a)):t.innerHTML=n}}return!0}catch(c){return!1}},random:function(t,e){t=t||0;var n=Math.floor(Math.random()*e+t);return n}};return t});